

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The moment_tensor Module &mdash; Pyrocko v0.2 Manual</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Pyrocko v0.2 Manual"
          href="_static/opensearch.xml"/>
    <link rel="top" title="Pyrocko v0.2 Manual" href="index.html" />
    <link rel="up" title="Library Reference" href="reference.html" />
    <link rel="next" title="The evalresp Module" href="evalresp.html" />
    <link rel="prev" title="The cake Module" href="cake.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="evalresp.html" title="The evalresp Module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="cake.html" title="The cake Module"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Pyrocko v0.2 Manual</a> &raquo;</li>
          <li><a href="reference.html" accesskey="U">Library Reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <div class="section" id="module-pyrocko.moment_tensor">
<span id="the-moment-tensor-module"></span><h1>The <tt class="xref py py-mod docutils literal"><span class="pre">moment_tensor</span></tt> Module<a class="headerlink" href="#module-pyrocko.moment_tensor" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="pyrocko.moment_tensor.symmat6">
<tt class="descname">symmat6</tt><big>(</big><em>*vals</em><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#symmat6"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.symmat6" title="Permalink to this definition">¶</a></dt>
<dd><p>Create symmetric 3x3 matrix from its 6 non-redundant values.</p>
<p>vals = [ Axx, Ayy, Azz, Axy, Axz, Ayz ]</p>
</dd></dl>

<dl class="function">
<dt id="pyrocko.moment_tensor.moment_to_magnitude">
<tt class="descname">moment_to_magnitude</tt><big>(</big><em>moment</em><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#moment_to_magnitude"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.moment_to_magnitude" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyrocko.moment_tensor.magnitude_to_moment">
<tt class="descname">magnitude_to_moment</tt><big>(</big><em>magnitude</em><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#magnitude_to_moment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.magnitude_to_moment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyrocko.moment_tensor.euler_to_matrix">
<tt class="descname">euler_to_matrix</tt><big>(</big><em>alpha</em>, <em>beta</em>, <em>gamma</em><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#euler_to_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.euler_to_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the euler angles alpha,beta,gamma, create rotation matrix</p>
<p>Given coordinate system (x,y,z) and rotated system (xs,ys,zs)
the line of nodes is the intersection between the x-y and the xs-ys
planes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> &#8211; is the angle between the z-axis and the zs-axis.</li>
<li><strong>beta</strong> &#8211; is the angle between the x-axis and the line of nodes.</li>
<li><strong>gamma</strong> &#8211; is the angle between the line of nodes and the xs-axis.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Usage for moment tensors:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">m_unrot</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">euler_to_matrix</span><span class="p">(</span><span class="n">dip</span><span class="p">,</span><span class="n">strike</span><span class="p">,</span><span class="o">-</span><span class="n">rake</span><span class="p">,</span> <span class="n">rotmat</span><span class="p">)</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">rotmat</span><span class="o">.</span><span class="n">T</span> <span class="o">*</span> <span class="n">m_unrot</span> <span class="o">*</span> <span class="n">rotmat</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pyrocko.moment_tensor.matrix_to_euler">
<tt class="descname">matrix_to_euler</tt><big>(</big><em>rotmat</em><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#matrix_to_euler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.matrix_to_euler" title="Permalink to this definition">¶</a></dt>
<dd><p>Inverse of euler_to_matrix().</p>
</dd></dl>

<dl class="function">
<dt id="pyrocko.moment_tensor.unique_euler">
<tt class="descname">unique_euler</tt><big>(</big><em>alpha</em>, <em>beta</em>, <em>gamma</em><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#unique_euler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.unique_euler" title="Permalink to this definition">¶</a></dt>
<dd><p>Uniquify euler angle triplet.</p>
<p>Put euler angles into ranges compatible with (dip,strike,-rake) in seismology:</p>
<blockquote>
<div>alpha (dip)   : [0, pi/2]
beta (strike) : [0, 2*pi)
gamma (-rake) : [-pi, pi)</div></blockquote>
<p>If alpha is near to zero, beta is replaced by beta+gamma and gamma is set to
zero, to prevent that additional ambiguity.</p>
<p>If alpha is near to pi/2, beta is put into the range [0,pi).</p>
</dd></dl>

<dl class="function">
<dt id="pyrocko.moment_tensor.cvec">
<tt class="descname">cvec</tt><big>(</big><em>x</em>, <em>y</em>, <em>z</em><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#cvec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.cvec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyrocko.moment_tensor.rvec">
<tt class="descname">rvec</tt><big>(</big><em>x</em>, <em>y</em>, <em>z</em><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#rvec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.rvec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyrocko.moment_tensor.eigh_check">
<tt class="descname">eigh_check</tt><big>(</big><em>a</em><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#eigh_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.eigh_check" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyrocko.moment_tensor.sm">
<tt class="descname">sm</tt><big>(</big><em>m</em><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#sm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.sm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyrocko.moment_tensor.MomentTensor">
<em class="property">class </em><tt class="descname">MomentTensor</tt><big>(</big><em>m=None</em>, <em>m_up_south_east=None</em>, <em>strike=0.0</em>, <em>dip=0.0</em>, <em>rake=0.0</em>, <em>scalar_moment=1.0</em><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#MomentTensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.MomentTensor" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="pyrocko.moment_tensor.MomentTensor.both_strike_dip_rake">
<tt class="descname">both_strike_dip_rake</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#MomentTensor.both_strike_dip_rake"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.MomentTensor.both_strike_dip_rake" title="Permalink to this definition">¶</a></dt>
<dd><p>Get both possible (strike,dip,rake) triplets.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.moment_tensor.MomentTensor.p_axis">
<tt class="descname">p_axis</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#MomentTensor.p_axis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.MomentTensor.p_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Get direction of p axis.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.moment_tensor.MomentTensor.t_axis">
<tt class="descname">t_axis</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#MomentTensor.t_axis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.MomentTensor.t_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Get direction of t axis.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.moment_tensor.MomentTensor.null_axis">
<tt class="descname">null_axis</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#MomentTensor.null_axis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.MomentTensor.null_axis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrocko.moment_tensor.MomentTensor.eigenvals">
<tt class="descname">eigenvals</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#MomentTensor.eigenvals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.MomentTensor.eigenvals" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrocko.moment_tensor.MomentTensor.both_slip_vectors">
<tt class="descname">both_slip_vectors</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#MomentTensor.both_slip_vectors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.MomentTensor.both_slip_vectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get both possible slip directions.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.moment_tensor.MomentTensor.m">
<tt class="descname">m</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#MomentTensor.m"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.MomentTensor.m" title="Permalink to this definition">¶</a></dt>
<dd><p>Get plain moment tensor as 3x3 matrix.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.moment_tensor.MomentTensor.m_up_south_east">
<tt class="descname">m_up_south_east</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#MomentTensor.m_up_south_east"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.MomentTensor.m_up_south_east" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrocko.moment_tensor.MomentTensor.m_plain_double_couple">
<tt class="descname">m_plain_double_couple</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#MomentTensor.m_plain_double_couple"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.MomentTensor.m_plain_double_couple" title="Permalink to this definition">¶</a></dt>
<dd><p>Get plain double couple with same scalar moment as moment tensor.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.moment_tensor.MomentTensor.moment_magnitude">
<tt class="descname">moment_magnitude</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#MomentTensor.moment_magnitude"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.MomentTensor.moment_magnitude" title="Permalink to this definition">¶</a></dt>
<dd><p>Get moment magnitude of moment tensor.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.moment_tensor.MomentTensor.scalar_moment">
<tt class="descname">scalar_moment</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#MomentTensor.scalar_moment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.MomentTensor.scalar_moment" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the scalar moment of the moment tensor.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.moment_tensor.MomentTensor.str_fault_planes">
<tt class="descname">str_fault_planes</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#MomentTensor.str_fault_planes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.MomentTensor.str_fault_planes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyrocko.moment_tensor.other_plane">
<tt class="descname">other_plane</tt><big>(</big><em>strike</em>, <em>dip</em>, <em>rake</em><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#other_plane"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.other_plane" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyrocko.moment_tensor.MomentTensorTestCase">
<em class="property">class </em><tt class="descname">MomentTensorTestCase</tt><big>(</big><em>methodName='runTest'</em><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#MomentTensorTestCase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.MomentTensorTestCase" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="pyrocko.moment_tensor.MomentTensorTestCase.testMagnitudeMoment">
<tt class="descname">testMagnitudeMoment</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#MomentTensorTestCase.testMagnitudeMoment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.MomentTensorTestCase.testMagnitudeMoment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrocko.moment_tensor.MomentTensorTestCase.testAnyAngles">
<tt class="descname">testAnyAngles</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#MomentTensorTestCase.testAnyAngles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.MomentTensorTestCase.testAnyAngles" title="Permalink to this definition">¶</a></dt>
<dd><p>Check some arbitrary angles.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.moment_tensor.MomentTensorTestCase.testProblematicAngles">
<tt class="descname">testProblematicAngles</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#MomentTensorTestCase.testProblematicAngles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.MomentTensorTestCase.testProblematicAngles" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks angles close to fractions of pi, which are especially problematic.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.moment_tensor.MomentTensorTestCase.testNonPlainDoubleCouples">
<tt class="descname">testNonPlainDoubleCouples</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#MomentTensorTestCase.testNonPlainDoubleCouples"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.MomentTensorTestCase.testNonPlainDoubleCouples" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert random MTs to plain double couples and compare angles.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.moment_tensor.MomentTensorTestCase.forwardBackward">
<tt class="descname">forwardBackward</tt><big>(</big><em>strike</em>, <em>dip</em>, <em>rake</em>, <em>scalar_moment</em><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#MomentTensorTestCase.forwardBackward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.MomentTensorTestCase.forwardBackward" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrocko.moment_tensor.MomentTensorTestCase.assertAnglesSame">
<tt class="descname">assertAnglesSame</tt><big>(</big><em>m1</em>, <em>m2</em><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#MomentTensorTestCase.assertAnglesSame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.MomentTensorTestCase.assertAnglesSame" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrocko.moment_tensor.MomentTensorTestCase.assertSame">
<tt class="descname">assertSame</tt><big>(</big><em>a</em>, <em>b</em>, <em>eps</em>, <em>errstr</em><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#MomentTensorTestCase.assertSame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.MomentTensorTestCase.assertSame" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrocko.moment_tensor.MomentTensorTestCase.testChile">
<tt class="descname">testChile</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/moment_tensor.html#MomentTensorTestCase.testChile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.moment_tensor.MomentTensorTestCase.testChile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="evalresp.html" title="The evalresp Module"
             >next</a> |</li>
        <li class="right" >
          <a href="cake.html" title="The cake Module"
             >previous</a> |</li>
        <li><a href="index.html">Pyrocko v0.2 Manual</a> &raquo;</li>
          <li><a href="reference.html" >Library Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Sebastian Heimann.
    </div>
  </body>
</html>