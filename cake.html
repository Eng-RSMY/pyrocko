

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The cake Module &mdash; Pyrocko v0.2 Manual</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Pyrocko v0.2 Manual"
          href="_static/opensearch.xml"/>
    <link rel="top" title="Pyrocko v0.2 Manual" href="index.html" />
    <link rel="up" title="Library Reference" href="reference.html" />
    <link rel="next" title="The moment_tensor Module" href="moment_tensor.html" />
    <link rel="prev" title="The crust2x2 Module" href="crust2x2.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="moment_tensor.html" title="The moment_tensor Module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="crust2x2.html" title="The crust2x2 Module"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Pyrocko v0.2 Manual</a> &raquo;</li>
          <li><a href="reference.html" accesskey="U">Library Reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <div class="section" id="module-pyrocko.cake">
<span id="the-cake-module"></span><h1>The <tt class="xref py py-mod docutils literal"><span class="pre">cake</span></tt> Module<a class="headerlink" href="#module-pyrocko.cake" title="Permalink to this headline">¶</a></h1>
<p>Classical seismic ray theory for layered earth models (<em>layer cake</em> models).</p>
<p>This module can be used to e.g. calculate arrival times, ray paths, reflection
and transmission coefficients, take-off and incidence angles and geometrical
spreading factors for arbitrary seismic phases. Computations are done for a
spherical earth, even though the module name may suggests something flat.</p>
<p>The main classes defined in this module are:</p>
<ul>
<li><p class="first"><a class="reference internal" href="#pyrocko.cake.Material" title="pyrocko.cake.Material"><tt class="xref py py-class docutils literal"><span class="pre">Material</span></tt></a> - Defines an isotropic elastic material.</p>
</li>
<li><p class="first"><a class="reference internal" href="#pyrocko.cake.PhaseDef" title="pyrocko.cake.PhaseDef"><tt class="xref py py-class docutils literal"><span class="pre">PhaseDef</span></tt></a> - Defines a seismic phase arrival / wave propagation history.</p>
</li>
<li><p class="first"><a class="reference internal" href="#pyrocko.cake.Leg" title="pyrocko.cake.Leg"><tt class="xref py py-class docutils literal"><span class="pre">Leg</span></tt></a> - Continuous propagation in a <a class="reference internal" href="#pyrocko.cake.PhaseDef" title="pyrocko.cake.PhaseDef"><tt class="xref py py-class docutils literal"><span class="pre">PhaseDef</span></tt></a>.</p>
</li>
<li><p class="first"><a class="reference internal" href="#pyrocko.cake.Knee" title="pyrocko.cake.Knee"><tt class="xref py py-class docutils literal"><span class="pre">Knee</span></tt></a> - Conversion/reflection in a <a class="reference internal" href="#pyrocko.cake.PhaseDef" title="pyrocko.cake.PhaseDef"><tt class="xref py py-class docutils literal"><span class="pre">PhaseDef</span></tt></a>.</p>
</li>
<li><p class="first"><a class="reference internal" href="#pyrocko.cake.LayeredModel" title="pyrocko.cake.LayeredModel"><tt class="xref py py-class docutils literal"><span class="pre">LayeredModel</span></tt></a> - Representation of a layer cake model.</p>
</li>
<li><p class="first"><a class="reference internal" href="#pyrocko.cake.Layer" title="pyrocko.cake.Layer"><tt class="xref py py-class docutils literal"><span class="pre">Layer</span></tt></a> - A layer in a <a class="reference internal" href="#pyrocko.cake.LayeredModel" title="pyrocko.cake.LayeredModel"><tt class="xref py py-class docutils literal"><span class="pre">LayeredModel</span></tt></a>.</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#pyrocko.cake.HomogeneousLayer" title="pyrocko.cake.HomogeneousLayer"><tt class="xref py py-class docutils literal"><span class="pre">HomogeneousLayer</span></tt></a> - A homogeneous <a class="reference internal" href="#pyrocko.cake.Layer" title="pyrocko.cake.Layer"><tt class="xref py py-class docutils literal"><span class="pre">Layer</span></tt></a>.</li>
<li><a class="reference internal" href="#pyrocko.cake.GradientLayer" title="pyrocko.cake.GradientLayer"><tt class="xref py py-class docutils literal"><span class="pre">GradientLayer</span></tt></a> - A gradient <a class="reference internal" href="#pyrocko.cake.Layer" title="pyrocko.cake.Layer"><tt class="xref py py-class docutils literal"><span class="pre">Layer</span></tt></a>.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><a class="reference internal" href="#pyrocko.cake.Discontinuity" title="pyrocko.cake.Discontinuity"><tt class="xref py py-class docutils literal"><span class="pre">Discontinuity</span></tt></a> - A discontinuity in a <a class="reference internal" href="#pyrocko.cake.LayeredModel" title="pyrocko.cake.LayeredModel"><tt class="xref py py-class docutils literal"><span class="pre">LayeredModel</span></tt></a>.</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#pyrocko.cake.Interface" title="pyrocko.cake.Interface"><tt class="xref py py-class docutils literal"><span class="pre">Interface</span></tt></a> - A <a class="reference internal" href="#pyrocko.cake.Discontinuity" title="pyrocko.cake.Discontinuity"><tt class="xref py py-class docutils literal"><span class="pre">Discontinuity</span></tt></a> between two <a class="reference internal" href="#pyrocko.cake.Layer" title="pyrocko.cake.Layer"><tt class="xref py py-class docutils literal"><span class="pre">Layer</span></tt></a> instances.</li>
<li><a class="reference internal" href="#pyrocko.cake.Surface" title="pyrocko.cake.Surface"><tt class="xref py py-class docutils literal"><span class="pre">Surface</span></tt></a> - The surface <a class="reference internal" href="#pyrocko.cake.Discontinuity" title="pyrocko.cake.Discontinuity"><tt class="xref py py-class docutils literal"><span class="pre">Discontinuity</span></tt></a> on top of a <a class="reference internal" href="#pyrocko.cake.LayeredModel" title="pyrocko.cake.LayeredModel"><tt class="xref py py-class docutils literal"><span class="pre">LayeredModel</span></tt></a>.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><a class="reference internal" href="#pyrocko.cake.RayPath" title="pyrocko.cake.RayPath"><tt class="xref py py-class docutils literal"><span class="pre">RayPath</span></tt></a> - A fan of rays running through a common sequence of layers / interfaces.</p>
</li>
<li><p class="first"><a class="reference internal" href="#pyrocko.cake.Ray" title="pyrocko.cake.Ray"><tt class="xref py py-class docutils literal"><span class="pre">Ray</span></tt></a> - A specific ray with a specific (ray parameter, distance, arrival time) choice.</p>
</li>
<li><p class="first"><a class="reference internal" href="#pyrocko.cake.RayElement" title="pyrocko.cake.RayElement"><tt class="xref py py-class docutils literal"><span class="pre">RayElement</span></tt></a> - An element of a <a class="reference internal" href="#pyrocko.cake.RayPath" title="pyrocko.cake.RayPath"><tt class="xref py py-class docutils literal"><span class="pre">RayPath</span></tt></a>.</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#pyrocko.cake.Straight" title="pyrocko.cake.Straight"><tt class="xref py py-class docutils literal"><span class="pre">Straight</span></tt></a> - A ray segment representing propagation through one <a class="reference internal" href="#pyrocko.cake.Layer" title="pyrocko.cake.Layer"><tt class="xref py py-class docutils literal"><span class="pre">Layer</span></tt></a>.</li>
<li><a class="reference internal" href="#pyrocko.cake.Kink" title="pyrocko.cake.Kink"><tt class="xref py py-class docutils literal"><span class="pre">Kink</span></tt></a> - An interaction of a ray with a <a class="reference internal" href="#pyrocko.cake.Discontinuity" title="pyrocko.cake.Discontinuity"><tt class="xref py py-class docutils literal"><span class="pre">Discontinuity</span></tt></a>.</li>
</ul>
</div></blockquote>
</li>
</ul>
<dl class="class">
<dt id="pyrocko.cake.Material">
<em class="property">class </em><tt class="descname">Material</tt><big>(</big><em>vp=None</em>, <em>vs=None</em>, <em>rho=2600.0</em>, <em>qp=None</em>, <em>qs=None</em>, <em>poisson=None</em>, <em>lame=None</em>, <em>qk=None</em>, <em>qmu=None</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Material"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Material" title="Permalink to this definition">¶</a></dt>
<dd><p>Isotropic elastic material.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>vp</strong> &#8211; P-wave velocity [m/s]</li>
<li><strong>vs</strong> &#8211; S-wave velocity [m/s]</li>
<li><strong>rho</strong> &#8211; density [kg/m^3]</li>
<li><strong>qp</strong> &#8211; P-wave attenuation Qp</li>
<li><strong>qs</strong> &#8211; S-wave attenuation Qs</li>
<li><strong>poisson</strong> &#8211; Poisson ratio</li>
<li><strong>lame</strong> &#8211; tuple with Lame parameter <cite>lambda</cite> and <cite>shear modulus</cite> [Pa]</li>
<li><strong>qk</strong> &#8211; bulk attenuation Qk</li>
<li><strong>qmu</strong> &#8211; shear attenuation Qmu</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>If no velocities and no lame parameters are given, standard crustal values of vp = 5800 m/s and vs = 3200 m/s are used.
If no Q values are given, standard crustal values of qp = 1456 and qs = 600 are used.</p>
<p>Everything is in SI units (m/s, Pa, kg/m^3) unless explicitly stated.</p>
<p>The main material properties are considered independant and are accessible as attributes (it is allowed to assign to these):</p>
<blockquote>
<div><dl class="attribute">
<dt>
<tt class="descname">vp, vs, rho, qp, qs</tt></dt>
<dd></dd></dl>

</div></blockquote>
<p>Other material properties are considered dependant and can be queried by instance methods.</p>
<dl class="method">
<dt id="pyrocko.cake.Material.astuple">
<tt class="descname">astuple</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Material.astuple"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Material.astuple" title="Permalink to this definition">¶</a></dt>
<dd><p>Get independant material properties as a tuple.</p>
<p>Returns a tuple with <tt class="docutils literal"><span class="pre">(vp,</span> <span class="pre">vs,</span> <span class="pre">rho,</span> <span class="pre">qp,</span> <span class="pre">qs)</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.Material.lame">
<tt class="descname">lame</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Material.lame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Material.lame" title="Permalink to this definition">¶</a></dt>
<dd><p>Get Lame&#8217;s parameter lambda and shear modulus.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.Material.lame_lambda">
<tt class="descname">lame_lambda</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Material.lame_lambda"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Material.lame_lambda" title="Permalink to this definition">¶</a></dt>
<dd><p>Get Lame&#8217;s parameter lambda.</p>
<p>Returned units are [Pa].</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.Material.shear_modulus">
<tt class="descname">shear_modulus</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Material.shear_modulus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Material.shear_modulus" title="Permalink to this definition">¶</a></dt>
<dd><p>Get shear modulus.</p>
<p>Returned units are [Pa].</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.Material.poisson">
<tt class="descname">poisson</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Material.poisson"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Material.poisson" title="Permalink to this definition">¶</a></dt>
<dd><p>Get Poisson&#8217;s ratio.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.Material.bulk">
<tt class="descname">bulk</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Material.bulk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Material.bulk" title="Permalink to this definition">¶</a></dt>
<dd><p>Get bulk modulus.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.Material.youngs">
<tt class="descname">youngs</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Material.youngs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Material.youngs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get Young&#8217;s modulus.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.Material.vp_vs_ratio">
<tt class="descname">vp_vs_ratio</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Material.vp_vs_ratio"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Material.vp_vs_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Get vp/vs ratio.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.Material.qmu">
<tt class="descname">qmu</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Material.qmu"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Material.qmu" title="Permalink to this definition">¶</a></dt>
<dd><p>Get shear attenuation coefficient Qmu.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.Material.qk">
<tt class="descname">qk</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Material.qk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Material.qk" title="Permalink to this definition">¶</a></dt>
<dd><p>Get bulk attenuation coefficient Qk.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.Material.rayleigh">
<tt class="descname">rayleigh</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Material.rayleigh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Material.rayleigh" title="Permalink to this definition">¶</a></dt>
<dd><p>Get rayleigh velocity assuming a homogenous halfspace.</p>
<p>Returned units are [m/s].</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.Material.describe">
<tt class="descname">describe</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Material.describe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Material.describe" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a readable listing of the material properties.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyrocko.cake.Leg">
<em class="property">class </em><tt class="descname">Leg</tt><big>(</big><em>departure=None</em>, <em>mode=None</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Leg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Leg" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a continuous piece of wave propagation in a <a class="reference internal" href="#pyrocko.cake.PhaseDef" title="pyrocko.cake.PhaseDef"><tt class="xref py py-class docutils literal"><span class="pre">PhaseDef</span></tt></a>.</p>
<p><strong>Attributes:</strong></p>
<p>To be considered as read-only.</p>
<blockquote>
<div><dl class="attribute">
<dt id="pyrocko.cake.Leg.departure">
<tt class="descname">departure</tt><a class="headerlink" href="#pyrocko.cake.Leg.departure" title="Permalink to this definition">¶</a></dt>
<dd><p>One of the constants <tt class="xref py py-const docutils literal"><span class="pre">UP</span></tt> or <tt class="xref py py-const docutils literal"><span class="pre">DOWN</span></tt> indicating upward or downward departure.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyrocko.cake.Leg.mode">
<tt class="descname">mode</tt><a class="headerlink" href="#pyrocko.cake.Leg.mode" title="Permalink to this definition">¶</a></dt>
<dd><p>One of the constants <tt class="xref py py-const docutils literal"><span class="pre">P</span></tt> or <tt class="xref py py-const docutils literal"><span class="pre">S</span></tt>, indicating the propagation mode.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyrocko.cake.Leg.depthmin">
<tt class="descname">depthmin</tt><a class="headerlink" href="#pyrocko.cake.Leg.depthmin" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>None</cite>, a number (a depth in [m]) or a string (an interface name), minimum depth.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyrocko.cake.Leg.depthmax">
<tt class="descname">depthmax</tt><a class="headerlink" href="#pyrocko.cake.Leg.depthmax" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>None</cite>, a number (a depth in [m]) or a string (an interface name), maximum depth.</p>
</dd></dl>

</div></blockquote>
</dd></dl>

<dl class="class">
<dt id="pyrocko.cake.Knee">
<em class="property">class </em><tt class="descname">Knee</tt><big>(</big><em>*args</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Knee"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Knee" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a change in wave propagation within a <a class="reference internal" href="#pyrocko.cake.PhaseDef" title="pyrocko.cake.PhaseDef"><tt class="xref py py-class docutils literal"><span class="pre">PhaseDef</span></tt></a>.</p>
<p><strong>Attributes:</strong></p>
<p>To be considered as read-only.</p>
<blockquote>
<div><dl class="attribute">
<dt id="pyrocko.cake.Knee.depth">
<tt class="descname">depth</tt><a class="headerlink" href="#pyrocko.cake.Knee.depth" title="Permalink to this definition">¶</a></dt>
<dd><p>Depth at which the conversion/reflection should happen. this can be a string or a number.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyrocko.cake.Knee.direction">
<tt class="descname">direction</tt><a class="headerlink" href="#pyrocko.cake.Knee.direction" title="Permalink to this definition">¶</a></dt>
<dd><p>One of the constants <tt class="xref py py-const docutils literal"><span class="pre">UP</span></tt> or <tt class="xref py py-const docutils literal"><span class="pre">DOWN</span></tt> to indicate the incoming direction.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyrocko.cake.Knee.in_mode">
<tt class="descname">in_mode</tt><a class="headerlink" href="#pyrocko.cake.Knee.in_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>One of the constants <tt class="xref py py-const docutils literal"><span class="pre">P</span></tt> or <tt class="xref py py-const docutils literal"><span class="pre">S</span></tt> to indicate the type of mode of the incoming wave.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyrocko.cake.Knee.out_mode">
<tt class="descname">out_mode</tt><a class="headerlink" href="#pyrocko.cake.Knee.out_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>One of the constants <tt class="xref py py-const docutils literal"><span class="pre">P</span></tt> or <tt class="xref py py-const docutils literal"><span class="pre">S</span></tt> to indicate the type of mode of the outgoing wave.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyrocko.cake.Knee.conversion">
<tt class="descname">conversion</tt><a class="headerlink" href="#pyrocko.cake.Knee.conversion" title="Permalink to this definition">¶</a></dt>
<dd><p>Boolean, whether there is a mode conversion involved.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyrocko.cake.Knee.reflection">
<tt class="descname">reflection</tt><a class="headerlink" href="#pyrocko.cake.Knee.reflection" title="Permalink to this definition">¶</a></dt>
<dd><p>Boolean, whether there is a reflection involved.</p>
</dd></dl>

</div></blockquote>
<dl class="method">
<dt id="pyrocko.cake.Knee.matches">
<tt class="descname">matches</tt><big>(</big><em>discontinuity</em>, <em>mode</em>, <em>direction</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Knee.matches"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Knee.matches" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether it is relevant to a given combination of interface, propagation mode, and direction.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.Knee.out_direction">
<tt class="descname">out_direction</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Knee.out_direction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Knee.out_direction" title="Permalink to this definition">¶</a></dt>
<dd><p>Get outgoing direction.</p>
<p>Returns one of the constants <tt class="xref py py-const docutils literal"><span class="pre">UP</span></tt> or <tt class="xref py py-const docutils literal"><span class="pre">DOWN</span></tt>.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="pyrocko.cake.PhaseDefParseError">
<em class="property">exception </em><tt class="descname">PhaseDefParseError</tt><big>(</big><em>definition</em>, <em>position</em>, <em>exception</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#PhaseDefParseError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.PhaseDefParseError" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception raised when an error occures during parsing of a phase definition string.</p>
</dd></dl>

<dl class="class">
<dt id="pyrocko.cake.PhaseDef">
<em class="property">class </em><tt class="descname">PhaseDef</tt><big>(</big><em>definition=None</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#PhaseDef"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.PhaseDef" title="Permalink to this definition">¶</a></dt>
<dd><p>Definition of a seismic phase arrival, based on ray propagation path.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>definition</strong> &#8211; string representation of the phase in cake phase syntax</td>
</tr>
</tbody>
</table>
<p>Seismic phases are conventionally named e.g. P, Pn, PP, PcP, etc. In this
module a slightly different terminology is adapted, which allows to specify
arbitrary conversion/reflection histories for seismic phases. The
conventions used here are inspired by those used in the TauP toolkit, but
are not completely compatible with those.</p>
<p>The definition of a seismic phase in the syntax implemented here is a
string consisting of an alternating sequence of <em>legs</em> and <em>knees</em>. A <em>leg</em>
here represents seismic wave propagation without any conversion,
encountering only super-critical reflections. Legs are denoted by <tt class="docutils literal"><span class="pre">P</span></tt>,
<tt class="docutils literal"><span class="pre">p</span></tt> or <tt class="docutils literal"><span class="pre">S</span></tt> or <tt class="docutils literal"><span class="pre">s</span></tt>. The capital letters are used when the take-off of
the <em>leg</em> is in downward direction, while the lower case letter indicate a
take-off in upward direction. A <em>knee</em> is denoted by a string of the form
<tt class="docutils literal"><span class="pre">(INTERFACE)</span></tt> where INTERFACE is the name of an interface (which should
be defined in the models which are used with this phase) or <tt class="docutils literal"><span class="pre">DEPTH</span></tt>,
where DEPTH is a number, for mode conversions, <tt class="docutils literal"><span class="pre">v(INTERFACE)</span></tt> or
<tt class="docutils literal"><span class="pre">vDEPTH</span></tt> for top-side reflections or <tt class="docutils literal"><span class="pre">^(INTERFACE)</span></tt> or <tt class="docutils literal"><span class="pre">^DEPTH</span></tt> for
underside reflections. When DEPTH is given as a numerical value in [km], the
interface closest to that depth is chosen. If two legs appear
consecutively without an explicit <em>knee</em>, surface interaction is assumed.
The string may end with a backslash <tt class="docutils literal"><span class="pre">\</span></tt>, to indicate that the ray should
arrive at the receiver from above instead of from below, which is the
default. It is possible to restrict the maximum and minimum depth of a
<em>leg</em> by appending <tt class="docutils literal"><span class="pre">&lt;(INTERFACE)</span></tt> or <tt class="docutils literal"><span class="pre">&lt;DEPTH</span></tt> or <tt class="docutils literal"><span class="pre">&gt;(INTERFACE)</span></tt> or
<tt class="docutils literal"><span class="pre">&gt;DEPTH</span></tt> after the leg character, respectively.</p>
<p><strong>Examples:</strong></p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">P</span></tt> - like the classical P, but includes PKP, PKIKP, Pg</li>
<li><tt class="docutils literal"><span class="pre">P&lt;(moho)</span></tt> - like Pg, but must leave source downwards</li>
<li><tt class="docutils literal"><span class="pre">pP</span></tt> - leaves source upward, reflects at surface, then travels as P</li>
<li><tt class="docutils literal"><span class="pre">P(moho)s</span></tt> - conversion from P to S at the Moho on upgoing path</li>
<li><tt class="docutils literal"><span class="pre">P(moho)S</span></tt> - conversion from P to S at the Moho on downgoing path</li>
<li><tt class="docutils literal"><span class="pre">Pv12p</span></tt> - P with reflection at 12 km deep interface (or the interface closest to that)</li>
<li><tt class="docutils literal"><span class="pre">P^(conrad)P</span></tt> - underside reflection of P at the Conrad discontinuity</li>
</ul>
</div></blockquote>
<p><strong>Usage:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyrocko.cake</span> <span class="kn">import</span> <span class="n">PhaseDef</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_crazy_phase</span> <span class="o">=</span> <span class="n">PhaseDef</span><span class="p">(</span><span class="s">&#39;pPv(moho)sP</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">)</span>   <span class="c"># must escape the backslash</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">my_crazy_phase</span>
<span class="go">Phase definition &quot;pPv(moho)sP&quot;:</span>
<span class="go"> - P mode propagation, departing upward</span>
<span class="go"> - surface reflection</span>
<span class="go"> - P mode propagation, departing downward</span>
<span class="go"> - upperside reflection with conversion from p to s at moho</span>
<span class="go"> - S mode propagation, departing upward</span>
<span class="go"> - surface reflection with conversion from s to p</span>
<span class="go"> - P mode propagation, departing downward</span>
<span class="go"> - arriving at target from above</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ol class="last arabic simple">
<li>These conventions might be extended in a way to allow to fix wave
propagation to SH mode, possibly by specifying SH, or a single
character (e.g. H) instead of S. This would be benificial for the
selection of conversion and reflection coefficients, which currently 
only deal with the P-SV case.</li>
<li>Need a way to specify headwaves (maybe <tt class="docutils literal"><span class="pre">P_(moho)p</span></tt>).</li>
<li>To support direct mappings between the classical phase names and
cake phase names, a way to constrain the turning point depth is 
needed.</li>
</ol>
</div>
<dl class="method">
<dt id="pyrocko.cake.PhaseDef.first_leg">
<tt class="descname">first_leg</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#PhaseDef.first_leg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.PhaseDef.first_leg" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the first leg in phase definition.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.PhaseDef.last_leg">
<tt class="descname">last_leg</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#PhaseDef.last_leg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.PhaseDef.last_leg" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the last leg in phase definition.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.PhaseDef.legs">
<tt class="descname">legs</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#PhaseDef.legs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.PhaseDef.legs" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over the continuous pieces of wave propagation (legs) defined within this phase definition.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.PhaseDef.knees">
<tt class="descname">knees</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#PhaseDef.knees"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.PhaseDef.knees" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over conversions and reflections (knees) defined within this phase definition.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.PhaseDef.used_repr">
<tt class="descname">used_repr</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#PhaseDef.used_repr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.PhaseDef.used_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate into textual representation (cake phase syntax).</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.PhaseDef.copy">
<tt class="descname">copy</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#PhaseDef.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.PhaseDef.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a deep copy of it.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyrocko.cake.psv_surface_ind">
<tt class="descname">psv_surface_ind</tt><big>(</big><em>in_mode</em>, <em>out_mode</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#psv_surface_ind"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.psv_surface_ind" title="Permalink to this definition">¶</a></dt>
<dd><p>Get indices to select the appropriate element from scatter matrix for free surface.</p>
</dd></dl>

<dl class="function">
<dt id="pyrocko.cake.psv_surface">
<tt class="descname">psv_surface</tt><big>(</big><em>material</em>, <em>p</em>, <em>energy=False</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#psv_surface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.psv_surface" title="Permalink to this definition">¶</a></dt>
<dd><p>Scatter matrix for free surface reflection/conversions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>material</strong> &#8211; material, object of type <a class="reference internal" href="#pyrocko.cake.Material" title="pyrocko.cake.Material"><tt class="xref py py-class docutils literal"><span class="pre">Material</span></tt></a></li>
<li><strong>p</strong> &#8211; flat ray parameter [s/m]</li>
<li><strong>energy</strong> &#8211; bool, when <tt class="xref docutils literal"><span class="pre">True</span></tt> energy normalized coefficients are returned</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Scatter matrix</p>
</td>
</tr>
</tbody>
</table>
<p>The scatter matrix is ordered as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[[</span> <span class="n">PP</span><span class="p">,</span> <span class="n">PS</span> <span class="p">],</span>
 <span class="p">[</span> <span class="n">SP</span><span class="p">,</span> <span class="n">SS</span> <span class="p">]]</span>
</pre></div>
</div>
<p>The formulas given in Aki &amp; Richards are used.</p>
</dd></dl>

<dl class="function">
<dt id="pyrocko.cake.psv_solid_ind">
<tt class="descname">psv_solid_ind</tt><big>(</big><em>in_direction</em>, <em>out_direction</em>, <em>in_mode</em>, <em>out_mode</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#psv_solid_ind"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.psv_solid_ind" title="Permalink to this definition">¶</a></dt>
<dd><p>Get indices to select the appropriate element from scatter matrix for solid-solid interface.</p>
</dd></dl>

<dl class="function">
<dt id="pyrocko.cake.psv_solid">
<tt class="descname">psv_solid</tt><big>(</big><em>material1</em>, <em>material2</em>, <em>p</em>, <em>energy=False</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#psv_solid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.psv_solid" title="Permalink to this definition">¶</a></dt>
<dd><p>Scatter matrix for solid-solid interface.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>material1</strong> &#8211; material above, object of type <a class="reference internal" href="#pyrocko.cake.Material" title="pyrocko.cake.Material"><tt class="xref py py-class docutils literal"><span class="pre">Material</span></tt></a></li>
<li><strong>material2</strong> &#8211; material below, object of type <a class="reference internal" href="#pyrocko.cake.Material" title="pyrocko.cake.Material"><tt class="xref py py-class docutils literal"><span class="pre">Material</span></tt></a></li>
<li><strong>p</strong> &#8211; flat ray parameter [s/m]</li>
<li><strong>energy</strong> &#8211; bool, when <tt class="xref docutils literal"><span class="pre">True</span></tt> energy normalized coefficients are returned</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Scatter matrix</p>
</td>
</tr>
</tbody>
</table>
<p>The scatter matrix is ordered as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[[</span><span class="n">P1P1</span><span class="p">,</span> <span class="n">S1P1</span><span class="p">,</span> <span class="n">P2P1</span><span class="p">,</span> <span class="n">S2P1</span><span class="p">],</span>
 <span class="p">[</span><span class="n">P1S1</span><span class="p">,</span> <span class="n">S1S1</span><span class="p">,</span> <span class="n">P2S1</span><span class="p">,</span> <span class="n">S2S1</span><span class="p">],</span>
 <span class="p">[</span><span class="n">P1P2</span><span class="p">,</span> <span class="n">S1P2</span><span class="p">,</span> <span class="n">P2P2</span><span class="p">,</span> <span class="n">S2P2</span><span class="p">],</span>
 <span class="p">[</span><span class="n">P1S2</span><span class="p">,</span> <span class="n">S1S2</span><span class="p">,</span> <span class="n">P2S2</span><span class="p">,</span> <span class="n">S2S2</span><span class="p">]]</span>
</pre></div>
</div>
<p>The formulas given in Aki &amp; Richards are used.</p>
</dd></dl>

<dl class="class">
<dt id="pyrocko.cake.Layer">
<em class="property">class </em><tt class="descname">Layer</tt><big>(</big><em>ztop</em>, <em>zbot</em>, <em>name=None</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Layer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Layer" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of a layer in a layered earth model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ztop</strong> &#8211; depth of top of layer</li>
<li><strong>zbot</strong> &#8211; depth of bottom of layer</li>
<li><strong>name</strong> &#8211; name of layer (optional)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pyrocko.cake.Layer.potint_coefs">
<tt class="descname">potint_coefs</tt><big>(</big><em>mode</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Layer.potint_coefs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Layer.potint_coefs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get coefficients for potential interpolation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mode</strong> &#8211; mode of wave propagation, <tt class="xref py py-const docutils literal"><span class="pre">P</span></tt> or <tt class="xref py py-const docutils literal"><span class="pre">S</span></tt></td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">coefficients <tt class="docutils literal"><span class="pre">(a,b)</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.Layer.contains">
<tt class="descname">contains</tt><big>(</big><em>z</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Layer.contains"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Layer.contains" title="Permalink to this definition">¶</a></dt>
<dd><p>Tolerantly check if a given depth is within the layer (including boundaries).</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.Layer.inner">
<tt class="descname">inner</tt><big>(</big><em>z</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Layer.inner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Layer.inner" title="Permalink to this definition">¶</a></dt>
<dd><p>Tolerantly check if a given depth is within the layer (not including boundaries).</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.Layer.at_bottom">
<tt class="descname">at_bottom</tt><big>(</big><em>z</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Layer.at_bottom"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Layer.at_bottom" title="Permalink to this definition">¶</a></dt>
<dd><p>Tolerantly check if given depth is at the bottom of the layer.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.Layer.at_top">
<tt class="descname">at_top</tt><big>(</big><em>z</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Layer.at_top"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Layer.at_top" title="Permalink to this definition">¶</a></dt>
<dd><p>Tolerantly check if given depth is at the top of the layer.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.Layer.pflat_top">
<tt class="descname">pflat_top</tt><big>(</big><em>p</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Layer.pflat_top"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Layer.pflat_top" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert spherical ray parameter to local flat ray parameter for top of layer.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.Layer.pflat_bottom">
<tt class="descname">pflat_bottom</tt><big>(</big><em>p</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Layer.pflat_bottom"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Layer.pflat_bottom" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert spherical ray parameter to local flat ray parameter for bottom of layer.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.Layer.pflat">
<tt class="descname">pflat</tt><big>(</big><em>p</em>, <em>z</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Layer.pflat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Layer.pflat" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert spherical ray parameter to local flat ray parameter for given depth.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.Layer.xt_potint">
<tt class="descname">xt_potint</tt><big>(</big><em>p</em>, <em>mode</em>, <em>zpart=None</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Layer.xt_potint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Layer.xt_potint" title="Permalink to this definition">¶</a></dt>
<dd><p>Get travel time and distance for for traversal with given mode and ray parameter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>p</strong> &#8211; ray parameter (spherical)</li>
<li><strong>mode</strong> &#8211; mode of propagation (<tt class="xref py py-const docutils literal"><span class="pre">P</span></tt> or <tt class="xref py py-const docutils literal"><span class="pre">S</span></tt>)</li>
<li><strong>zpart</strong> &#8211; if given, tuple with two depths to restrict computation
to a part of the layer</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This implementation uses analytic formulas valid for a spherical earth
in the case where the velocity c within the layer is given by potential
interpolation of the form</p>
<blockquote>
<div>c(z) = a*z^b</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.Layer.test">
<tt class="descname">test</tt><big>(</big><em>p</em>, <em>mode</em>, <em>z</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Layer.test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Layer.test" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if wave mode can exist for given ray parameter at given depth within the layer.</p>
<p>Uses potential interpolation.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.Layer.zturn_potint">
<tt class="descname">zturn_potint</tt><big>(</big><em>p</em>, <em>mode</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Layer.zturn_potint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Layer.zturn_potint" title="Permalink to this definition">¶</a></dt>
<dd><p>Get turning depth for given ray parameter and propagation mode.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.Layer.propagate">
<tt class="descname">propagate</tt><big>(</big><em>p</em>, <em>mode</em>, <em>direction</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Layer.propagate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Layer.propagate" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagate ray through layer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>p</strong> &#8211; ray parameter</li>
<li><strong>mode</strong> &#8211; propagation mode</li>
<li><strong>direction</strong> &#8211; in direction (<tt class="xref py py-const docutils literal"><span class="pre">UP</span></tt> or <tt class="xref py py-const docutils literal"><span class="pre">DOWN</span></tt></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyrocko.cake.HomogeneousLayer">
<em class="property">class </em><tt class="descname">HomogeneousLayer</tt><big>(</big><em>ztop</em>, <em>zbot</em>, <em>m</em>, <em>name=None</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#HomogeneousLayer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.HomogeneousLayer" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of a homogeneous layer in a layered earth model.</p>
</dd></dl>

<dl class="class">
<dt id="pyrocko.cake.GradientLayer">
<em class="property">class </em><tt class="descname">GradientLayer</tt><big>(</big><em>ztop</em>, <em>zbot</em>, <em>mtop</em>, <em>mbot</em>, <em>name=None</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#GradientLayer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.GradientLayer" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of a gradient layer in a layered earth model.</p>
</dd></dl>

<dl class="class">
<dt id="pyrocko.cake.Discontinuity">
<em class="property">class </em><tt class="descname">Discontinuity</tt><big>(</big><em>z</em>, <em>name=None</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Discontinuity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Discontinuity" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for discontinuities in layered earth model.</p>
</dd></dl>

<dl class="class">
<dt id="pyrocko.cake.Interface">
<em class="property">class </em><tt class="descname">Interface</tt><big>(</big><em>z</em>, <em>mabove</em>, <em>mbelow</em>, <em>name=None</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Interface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Interface" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of an interface in a layered earth model.</p>
</dd></dl>

<dl class="class">
<dt id="pyrocko.cake.Surface">
<em class="property">class </em><tt class="descname">Surface</tt><big>(</big><em>z</em>, <em>mbelow</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Surface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Surface" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of the surface discontinuity in a layered earth model.</p>
</dd></dl>

<dl class="class">
<dt id="pyrocko.cake.RayElement">
<em class="property">class </em><tt class="descname">RayElement</tt><a class="reference internal" href="_modules/pyrocko/cake.html#RayElement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.RayElement" title="Permalink to this definition">¶</a></dt>
<dd><p>An element of a <a class="reference internal" href="#pyrocko.cake.RayPath" title="pyrocko.cake.RayPath"><tt class="xref py py-class docutils literal"><span class="pre">RayPath</span></tt></a>.</p>
</dd></dl>

<dl class="class">
<dt id="pyrocko.cake.Straight">
<em class="property">class </em><tt class="descname">Straight</tt><big>(</big><em>direction_in</em>, <em>direction_out</em>, <em>mode</em>, <em>layer</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Straight"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Straight" title="Permalink to this definition">¶</a></dt>
<dd><p>A ray segment representing wave propagation through one <a class="reference internal" href="#pyrocko.cake.Layer" title="pyrocko.cake.Layer"><tt class="xref py py-class docutils literal"><span class="pre">Layer</span></tt></a>.</p>
</dd></dl>

<dl class="class">
<dt id="pyrocko.cake.Kink">
<em class="property">class </em><tt class="descname">Kink</tt><big>(</big><em>in_direction</em>, <em>out_direction</em>, <em>in_mode</em>, <em>out_mode</em>, <em>discontinuity</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Kink"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Kink" title="Permalink to this definition">¶</a></dt>
<dd><p>An interaction of a ray with a <a class="reference internal" href="#pyrocko.cake.Discontinuity" title="pyrocko.cake.Discontinuity"><tt class="xref py py-class docutils literal"><span class="pre">Discontinuity</span></tt></a>.</p>
</dd></dl>

<dl class="class">
<dt id="pyrocko.cake.RayPath">
<em class="property">class </em><tt class="descname">RayPath</tt><big>(</big><em>phase</em>, <em>zstart</em>, <em>zstop</em>, <em>redistribute_p=False</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#RayPath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.RayPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of a fan of rays running through a common sequence of layers / interfaces.</p>
<dl class="method">
<dt id="pyrocko.cake.RayPath.pmax">
<tt class="descname">pmax</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#RayPath.pmax"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.RayPath.pmax" title="Permalink to this definition">¶</a></dt>
<dd><p>Get maximum valid ray parameter.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.RayPath.pmin">
<tt class="descname">pmin</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#RayPath.pmin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.RayPath.pmin" title="Permalink to this definition">¶</a></dt>
<dd><p>Get minimum valid ray parameter.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.RayPath.xmin">
<tt class="descname">xmin</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#RayPath.xmin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.RayPath.xmin" title="Permalink to this definition">¶</a></dt>
<dd><p>Get minimal distance.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.RayPath.xmax">
<tt class="descname">xmax</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#RayPath.xmax"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.RayPath.xmax" title="Permalink to this definition">¶</a></dt>
<dd><p>Get maximal distance.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.RayPath.kinks">
<tt class="descname">kinks</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#RayPath.kinks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.RayPath.kinks" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over propagation mode changes (reflections/transmissions).</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.RayPath.straights">
<tt class="descname">straights</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#RayPath.straights"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.RayPath.straights" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over ray segments.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.RayPath.first_straight">
<tt class="descname">first_straight</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#RayPath.first_straight"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.RayPath.first_straight" title="Permalink to this definition">¶</a></dt>
<dd><p>Get first ray segment.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.RayPath.last_straight">
<tt class="descname">last_straight</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#RayPath.last_straight"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.RayPath.last_straight" title="Permalink to this definition">¶</a></dt>
<dd><p>Get last ray segment.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.RayPath.efficiency">
<tt class="descname">efficiency</tt><big>(</big><em>p</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#RayPath.efficiency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.RayPath.efficiency" title="Permalink to this definition">¶</a></dt>
<dd><p>Get product of all conversion/reflection coefficients encountered on path.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.RayPath.spreading">
<tt class="descname">spreading</tt><big>(</big><em>p</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#RayPath.spreading"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.RayPath.spreading" title="Permalink to this definition">¶</a></dt>
<dd><p>Get geometrical spreading factor.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.RayPath.xt">
<tt class="descname">xt</tt><big>(</big><em>p</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#RayPath.xt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.RayPath.xt" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate distance and traveltime for given ray parameter.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyrocko.cake.Ray">
<em class="property">class </em><tt class="descname">Ray</tt><big>(</big><em>path</em>, <em>p</em>, <em>x</em>, <em>t</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#Ray"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.Ray" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of a specific ray with a specific (ray parameter, distance, arrival time) choice.</p>
<p><strong>Attributes:</strong></p>
<blockquote>
<div><dl class="attribute">
<dt id="pyrocko.cake.Ray.path">
<tt class="descname">path</tt><a class="headerlink" href="#pyrocko.cake.Ray.path" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#pyrocko.cake.RayPath" title="pyrocko.cake.RayPath"><tt class="xref py py-class docutils literal"><span class="pre">RayPath</span></tt></a> object containing complete propagation history.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyrocko.cake.Ray.p">
<tt class="descname">p</tt><a class="headerlink" href="#pyrocko.cake.Ray.p" title="Permalink to this definition">¶</a></dt>
<dd><p>Ray parameter (spherical) [s/deg]</p>
</dd></dl>

<dl class="attribute">
<dt id="pyrocko.cake.Ray.x">
<tt class="descname">x</tt><a class="headerlink" href="#pyrocko.cake.Ray.x" title="Permalink to this definition">¶</a></dt>
<dd><p>Radial distance [deg]</p>
</dd></dl>

<dl class="attribute">
<dt id="pyrocko.cake.Ray.t">
<tt class="descname">t</tt><a class="headerlink" href="#pyrocko.cake.Ray.t" title="Permalink to this definition">¶</a></dt>
<dd><p>Traveltime [s]</p>
</dd></dl>

</div></blockquote>
</dd></dl>

<dl class="class">
<dt id="pyrocko.cake.LayeredModel">
<em class="property">class </em><tt class="descname">LayeredModel</tt><a class="reference internal" href="_modules/pyrocko/cake.html#LayeredModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.LayeredModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of a layer cake model.</p>
<p>There are several ways to initialize an instance of this class.</p>
<ol class="arabic simple">
<li>Use the module function <a class="reference internal" href="#pyrocko.cake.load_model" title="pyrocko.cake.load_model"><tt class="xref py py-func docutils literal"><span class="pre">load_model()</span></tt></a> to read a model from a file.</li>
<li>Create an empty model with the default constructor and append layers and discontinuities with the 
<a class="reference internal" href="#pyrocko.cake.LayeredModel.append" title="pyrocko.cake.LayeredModel.append"><tt class="xref py py-meth docutils literal"><span class="pre">append()</span></tt></a> method (from top to bottom).</li>
<li>Use the constructor <a class="reference internal" href="#pyrocko.cake.LayeredModel.from_scanlines" title="pyrocko.cake.LayeredModel.from_scanlines"><tt class="xref py py-meth docutils literal"><span class="pre">LayeredModel.from_scanlines()</span></tt></a>, to automatically create the
<a class="reference internal" href="#pyrocko.cake.Layer" title="pyrocko.cake.Layer"><tt class="xref py py-class docutils literal"><span class="pre">Layer</span></tt></a> and <a class="reference internal" href="#pyrocko.cake.Discontinuity" title="pyrocko.cake.Discontinuity"><tt class="xref py py-class docutils literal"><span class="pre">Discontinuity</span></tt></a> objects from a given velocity profile.</li>
</ol>
<dl class="method">
<dt id="pyrocko.cake.LayeredModel.append">
<tt class="descname">append</tt><big>(</big><em>element</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#LayeredModel.append"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.LayeredModel.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a layer or discontinuity at bottom of model.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.LayeredModel.layers">
<tt class="descname">layers</tt><big>(</big><em>direction=4</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#LayeredModel.layers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.LayeredModel.layers" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over all layers of model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>direction</strong> &#8211; direction of traversal <tt class="xref py py-const docutils literal"><span class="pre">DOWN</span></tt> or <tt class="xref py py-const docutils literal"><span class="pre">UP</span></tt>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.LayeredModel.layer">
<tt class="descname">layer</tt><big>(</big><em>z</em>, <em>direction=4</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#LayeredModel.layer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.LayeredModel.layer" title="Permalink to this definition">¶</a></dt>
<dd><p>Get layer for given depth.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>z</strong> &#8211; depth [m]</li>
<li><strong>direction</strong> &#8211; direction of traversal <tt class="xref py py-const docutils literal"><span class="pre">DOWN</span></tt> or <tt class="xref py py-const docutils literal"><span class="pre">UP</span></tt>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns first layer which touches depth <cite>z</cite> (tolerant at boundaries).</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.LayeredModel.material">
<tt class="descname">material</tt><big>(</big><em>z</em>, <em>direction=4</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#LayeredModel.material"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.LayeredModel.material" title="Permalink to this definition">¶</a></dt>
<dd><p>Get material at given depth.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>z</strong> &#8211; depth [m]</li>
<li><strong>direction</strong> &#8211; direction of traversal <tt class="xref py py-const docutils literal"><span class="pre">DOWN</span></tt> or <tt class="xref py py-const docutils literal"><span class="pre">UP</span></tt></li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">object of type <a class="reference internal" href="#pyrocko.cake.Material" title="pyrocko.cake.Material"><tt class="xref py py-class docutils literal"><span class="pre">Material</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
<p>If given depth <cite>z</cite> happens to be at an interface, the material of the first layer with respect to the
the traversal ordering is returned.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.LayeredModel.discontinuities">
<tt class="descname">discontinuities</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#LayeredModel.discontinuities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.LayeredModel.discontinuities" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over all discontinuities of the model.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.LayeredModel.discontinuity">
<tt class="descname">discontinuity</tt><big>(</big><em>name_or_z</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#LayeredModel.discontinuity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.LayeredModel.discontinuity" title="Permalink to this definition">¶</a></dt>
<dd><p>Get discontinuity by name or depth.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name_or_z</strong> &#8211; name of discontinuity or depth [m] as float value</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.LayeredModel.adapt_phase">
<tt class="descname">adapt_phase</tt><big>(</big><em>phase</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#LayeredModel.adapt_phase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.LayeredModel.adapt_phase" title="Permalink to this definition">¶</a></dt>
<dd><p>Adapt a phase definition for use with this model.</p>
<p>This returns a copy of the phase definition, where named discontinuities are replaced
with the actual depth of these, as defined in the model.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.LayeredModel.path">
<tt class="descname">path</tt><big>(</big><em>p</em>, <em>phase=PhaseDef('P')</em>, <em>zstart=0.0</em>, <em>zstop=0.0</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#LayeredModel.path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.LayeredModel.path" title="Permalink to this definition">¶</a></dt>
<dd><p>Get ray path for given ray parameter, phase definition and fixed source and receiver depths.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>p</strong> &#8211; ray parameter (spherical) [s/deg]</li>
<li><strong>phase</strong> &#8211; phase definition (<a class="reference internal" href="#pyrocko.cake.PhaseDef" title="pyrocko.cake.PhaseDef"><tt class="xref py py-class docutils literal"><span class="pre">PhaseDef</span></tt></a> object)</li>
<li><strong>zstart</strong> &#8211; source depth [m]</li>
<li><strong>zstop</strong> &#8211; receiver depth [m]</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#pyrocko.cake.RayPath" title="pyrocko.cake.RayPath"><tt class="xref py py-class docutils literal"><span class="pre">RayPath</span></tt></a> object</p>
</td>
</tr>
</tbody>
</table>
<p>If it is not possible to find a solution, an exception of type <tt class="xref py py-exc docutils literal"><span class="pre">NotPhaseConform</span></tt>, 
<tt class="xref py py-exc docutils literal"><span class="pre">MinDepthReached</span></tt>, <tt class="xref py py-exc docutils literal"><span class="pre">MaxDepthReached</span></tt>, <tt class="xref py py-exc docutils literal"><span class="pre">CannotPropagate</span></tt>, 
<tt class="xref py py-exc docutils literal"><span class="pre">BottomReached</span></tt> or <tt class="xref py py-exc docutils literal"><span class="pre">SurfaceReached</span></tt> is raised.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.LayeredModel.multi_path">
<tt class="descname">multi_path</tt><big>(</big><em>p, phase=PhaseDef('P'), zstart=0.0, zstops=[0.0]</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#LayeredModel.multi_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.LayeredModel.multi_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate ray paths for given ray parameter, phase definition and fixed source and multiple receiver depths.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>p</strong> &#8211; ray parameter (spherical) [s/deg]</li>
<li><strong>phase</strong> &#8211; phase definition (<a class="reference internal" href="#pyrocko.cake.PhaseDef" title="pyrocko.cake.PhaseDef"><tt class="xref py py-class docutils literal"><span class="pre">PhaseDef</span></tt></a> object)</li>
<li><strong>zstart</strong> &#8211; source depth [m]</li>
<li><strong>zstop</strong> &#8211; list of receiver depths [m]</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Yields :</th><td class="field-body"><p class="first last"><a class="reference internal" href="#pyrocko.cake.RayPath" title="pyrocko.cake.RayPath"><tt class="xref py py-class docutils literal"><span class="pre">RayPath</span></tt></a> objects</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.LayeredModel.gather_pathes">
<tt class="descname">gather_pathes</tt><big>(</big><em>phases=PhaseDef('P')</em>, <em>zstart=0.0</em>, <em>zstop=0.0</em>, <em>np=1000</em>, <em>pdepth=18</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#LayeredModel.gather_pathes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.LayeredModel.gather_pathes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all possible ray pathes for fixed source and receiver depth for one or more phase definitions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>phases</strong> &#8211; a <a class="reference internal" href="#pyrocko.cake.PhaseDef" title="pyrocko.cake.PhaseDef"><tt class="xref py py-class docutils literal"><span class="pre">PhaseDef</span></tt></a> object or a list of such objects</li>
<li><strong>zstart</strong> &#8211; source depth [m]</li>
<li><strong>zstop</strong> &#8211; receiver depth [m]</li>
<li><strong>np</strong> &#8211; controls granularity of ray path fan drafting</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a list of <a class="reference internal" href="#pyrocko.cake.RayPath" title="pyrocko.cake.RayPath"><tt class="xref py py-class docutils literal"><span class="pre">RayPath</span></tt></a> objects</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.LayeredModel.arrivals">
<tt class="descname">arrivals</tt><big>(</big><em>distances=</em><span class="optional">[</span><span class="optional">]</span>, <em>phases=PhaseDef('P')</em>, <em>zstart=0.0</em>, <em>zstop=0.0</em>, <em>np=1000</em>, <em>refine=True</em>, <em>interpolation='linear'</em>, <em>pdepth=18</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#LayeredModel.arrivals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.LayeredModel.arrivals" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute rays and traveltimes for given distances.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>distances</strong> &#8211; list or array of distances [deg]</li>
<li><strong>phases</strong> &#8211; a <a class="reference internal" href="#pyrocko.cake.PhaseDef" title="pyrocko.cake.PhaseDef"><tt class="xref py py-class docutils literal"><span class="pre">PhaseDef</span></tt></a> object or a list of such objects</li>
<li><strong>zstart</strong> &#8211; source depth [m]</li>
<li><strong>zstop</strong> &#8211; receiver depth [m]</li>
<li><strong>np</strong> &#8211; controls granularity of ray path fan drafting</li>
<li><strong>refine</strong> &#8211; bool flag, whether to use bisectioning to improve (p,x,t) estimated from interpolation</li>
<li><strong>interpolation</strong> &#8211; string key, type of interpolation to be used (<tt class="docutils literal"><span class="pre">'linear'</span></tt> or <tt class="docutils literal"><span class="pre">'spline'</span></tt>)</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a list of <a class="reference internal" href="#pyrocko.cake.Ray" title="pyrocko.cake.Ray"><tt class="xref py py-class docutils literal"><span class="pre">Ray</span></tt></a> objects, sorted by distance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="pyrocko.cake.LayeredModel.from_scanlines">
<em class="property">classmethod </em><tt class="descname">from_scanlines</tt><big>(</big><em>producer</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#LayeredModel.from_scanlines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.LayeredModel.from_scanlines" title="Permalink to this definition">¶</a></dt>
<dd><p>Create layer cake model from sequence of materials at depths.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>producer</strong> &#8211; iterable yielding (depth, material, name) tuples</td>
</tr>
</tbody>
</table>
<p>Creates a new <a class="reference internal" href="#pyrocko.cake.LayeredModel" title="pyrocko.cake.LayeredModel"><tt class="xref py py-class docutils literal"><span class="pre">LayeredModel</span></tt></a> object and uses its <a class="reference internal" href="#pyrocko.cake.LayeredModel.append" title="pyrocko.cake.LayeredModel.append"><tt class="xref py py-meth docutils literal"><span class="pre">append()</span></tt></a> method
to add layers and discontinuities as needed.</p>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.LayeredModel.min">
<tt class="descname">min</tt><big>(</big><em>get='vp'</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#LayeredModel.min"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.LayeredModel.min" title="Permalink to this definition">¶</a></dt>
<dd><p>Find minimum value of a material property defined in the model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>get</strong> &#8211; property to be querried (<tt class="docutils literal"><span class="pre">`'vp'</span></tt>, <tt class="docutils literal"><span class="pre">'vs'</span></tt>, <tt class="docutils literal"><span class="pre">'rho'</span></tt>, <tt class="docutils literal"><span class="pre">'qp'</span></tt>, or <tt class="docutils literal"><span class="pre">'qs'</span></tt>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyrocko.cake.LayeredModel.max">
<tt class="descname">max</tt><big>(</big><em>get='vp'</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#LayeredModel.max"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.LayeredModel.max" title="Permalink to this definition">¶</a></dt>
<dd><p>Find maximum value of a material property defined in the model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>get</strong> &#8211; property to be querried (<tt class="docutils literal"><span class="pre">`'vp'</span></tt>, <tt class="docutils literal"><span class="pre">'vs'</span></tt>, <tt class="docutils literal"><span class="pre">'rho'</span></tt>, <tt class="docutils literal"><span class="pre">'qp'</span></tt>, or <tt class="docutils literal"><span class="pre">'qs'</span></tt>)</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyrocko.cake.read_hyposat_model">
<tt class="descname">read_hyposat_model</tt><big>(</big><em>fn</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#read_hyposat_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.read_hyposat_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Reader for HYPOSAT earth model files.</p>
<p>To be used as producer in <a class="reference internal" href="#pyrocko.cake.LayeredModel.from_scanlines" title="pyrocko.cake.LayeredModel.from_scanlines"><tt class="xref py py-meth docutils literal"><span class="pre">LayeredModel.from_scanlines()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="pyrocko.cake.read_nd_model">
<tt class="descname">read_nd_model</tt><big>(</big><em>fn</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#read_nd_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.read_nd_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Reader for TauP style &#8216;.nd&#8217; (named discontinuity) files.</p>
<p>To be used as producer in <a class="reference internal" href="#pyrocko.cake.LayeredModel.from_scanlines" title="pyrocko.cake.LayeredModel.from_scanlines"><tt class="xref py py-meth docutils literal"><span class="pre">LayeredModel.from_scanlines()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="pyrocko.cake.load_model">
<tt class="descname">load_model</tt><big>(</big><em>fn</em>, <em>format='nd'</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#load_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.load_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Load layered earth model from file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fn</strong> &#8211; filename</li>
<li><strong>format</strong> &#8211; format</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">object of type <a class="reference internal" href="#pyrocko.cake.LayeredModel" title="pyrocko.cake.LayeredModel"><tt class="xref py py-class docutils literal"><span class="pre">LayeredModel</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
<p>The following formats are currently supported:</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="84%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">format</th>
<th class="head">description</th>
</tr>
</thead>
<tbody valign="top">
<tr><td><tt class="docutils literal"><span class="pre">'nd'</span></tt></td>
<td>&#8216;named discontinuity&#8217; format used by the TauP programs</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">'hyposat'</span></tt></td>
<td>format used by the HYPOSAT location program</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyrocko.cake.castagna_vs_to_vp">
<tt class="descname">castagna_vs_to_vp</tt><big>(</big><em>vs</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#castagna_vs_to_vp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.castagna_vs_to_vp" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate vp from vs using castagna&#8217;s relation.</p>
<p>Castagna&#8217;s relation (the mudrock line) is an empirical relation for vp/vs for 
siliciclastic rocks (i.e. sandstones and shales). [Castagna et al., 1985]</p>
<blockquote>
<div>vp = 1.16 * vs + 1360 [m/s]</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>vs</strong> &#8211; S-wave velocity [m/s]</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">vp in [m/s]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyrocko.cake.filled">
<tt class="descname">filled</tt><big>(</big><em>v</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#filled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.filled" title="Permalink to this definition">¶</a></dt>
<dd><p>Create NumPy array filled with given value.</p>
<p>This works like <tt class="xref py py-func docutils literal"><span class="pre">numpy.ones()</span></tt> but initializes the array with <cite>v</cite> instead
of ones.</p>
</dd></dl>

<dl class="function">
<dt id="pyrocko.cake.monotony">
<tt class="descname">monotony</tt><big>(</big><em>x</em><big>)</big><a class="reference internal" href="_modules/pyrocko/cake.html#monotony"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyrocko.cake.monotony" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if an array is strictly increasing or decreasing.</p>
<p>Given an array <cite>x</cite>, returns <cite>1</cite> if the values of x are in strictly
increasing order and <cite>-1</cite> if they are in strictly decreasing order, or zero
otherwise.</p>
</dd></dl>

</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="moment_tensor.html" title="The moment_tensor Module"
             >next</a> |</li>
        <li class="right" >
          <a href="crust2x2.html" title="The crust2x2 Module"
             >previous</a> |</li>
        <li><a href="index.html">Pyrocko v0.2 Manual</a> &raquo;</li>
          <li><a href="reference.html" >Library Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Sebastian Heimann.
    </div>
  </body>
</html>